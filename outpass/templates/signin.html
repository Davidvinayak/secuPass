{% extends 'base.html' %}

{% block content %}
<div class="d-flex justify-content-center align-items-center vh-100">
  <div class="card p-4" style="width: 25rem;">
    <div class="card-body">
      <h5 class="card-title text-center">Create an Account</h5>
      
      <form id="signin_form" action="{% url 'signin' %}" method="post">
        {% csrf_token %}
        
        <!-- Role Selection -->
        <div class="mb-3">
          <label for="role" class="form-label"><b>Select Role:</b></label>
          <select name="role" id="role" class="form-select" required>
            <option value="" selected disabled>Choose your role</option>
            <option value="Student">Student</option>
            <option value="Faculty">Faculty</option>
            <option value="Parent">Parent</option>
          </select>
        </div>
        
        <!-- Common Fields -->
        <div class="mb-3">
          <label for="name" class="form-label">Name:</label>
          <input type="text" name="username" id="name" class="form-control" placeholder="Enter your name" required>
        </div>
        <div class="mb-3">
          <label for="email" class="form-label">Email:</label>
          <input type="email" name="useremail" id="email" class="form-control" placeholder="Enter your email" required>
        </div>
        <div class="mb-3">
          <label for="password" class="form-label">Password:</label>
          <input type="password" name="password" id="password" class="form-control" placeholder="Enter your password" required>
        </div>
        <div class="mb-3">
          <label for="confirmpassword" class="form-label">Confirm Password:</label>
          <input type="password" name="confirmpassword" id="confirmpassword" class="form-control" placeholder="Confirm your password" required>
        </div>

        <!-- Student-Specific Fields -->
        <div id="studentFields" class="role-specific d-none">
          <div class="mb-3">
            <label for="roll_number" class="form-label">Roll Number:</label>
            <input type="text" name="roll_number" id="roll_number" class="form-control" placeholder="Enter your roll number">
          </div>
          <div class="mb-3">
            <label for="department" class="form-label">Department:</label>
            <input type="text" name="department" id="department" class="form-control" placeholder="Enter your department">
          </div>
        </div>

        <!-- Faculty-Specific Fields -->
        <div id="facultyFields" class="role-specific d-none">
          <div class="mb-3">
            <label for="employee_id" class="form-label">Employee ID:</label>
            <input type="text" name="employee_id" id="employee_id" class="form-control" placeholder="Enter your employee ID">
          </div>
          <div class="mb-3">
            <label for="subject" class="form-label">Subject:</label>
            <input type="text" name="subject" id="subject" class="form-control" placeholder="Enter the subject you teach">
          </div>
        </div>

        <!-- Parent-Specific Fields -->
        <div id="parentFields" class="role-specific d-none">
          <div class="mb-3">
            <label for="child_id" class="form-label">Child's Roll Number:</label>
            <input type="text" name="child_id" id="child_id" class="form-control" placeholder="Enter your child's roll number">
          </div>
          <div class="mb-3">
            <label for="relation" class="form-label">Relation to Student:</label>
            <select name="relation" id="relation" class="form-select">
              <option value="Father">Father</option>
              <option value="Mother">Mother</option>
              <option value="Guardian">Guardian</option>
              <option value="Other">Other</option>
            </select>
          </div>
        </div>

        <div class="text-center mb-3">
          <span>Already have an account? </span> <a href="{% url 'login' %}">Login</a>
        </div>
        
        <button type="submit" class="btn btn-primary w-100">Sign Up</button>
      </form>
    </div>
  </div>
</div>
{% endblock %}